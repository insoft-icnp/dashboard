{"description":"This dashboard provides a high-level overview of your PostgreSQL databases. It includes replication, locks, and throughput etc...","id":"postgres-overview","layout":[{"h":7,"i":"191d09a6-40b0-4de8-a5b0-aa4254454b99","moved":false,"static":false,"w":6,"x":0,"y":0},{"h":7,"i":"fa941c00-ce19-49cc-baf2-c38598767dee","moved":false,"static":false,"w":6,"x":6,"y":0},{"h":6,"i":"114fcf80-e1de-4716-b1aa-0e0738dba10e","moved":false,"static":false,"w":6,"x":0,"y":7},{"h":6,"i":"667428ef-9b9a-4e91-bd1e-938e0dc1ff32","moved":false,"static":false,"w":6,"x":6,"y":7},{"h":6,"i":"6b700035-e3c2-4c48-99fa-ebfd6202eed3","moved":false,"static":false,"w":6,"x":0,"y":13},{"h":6,"i":"bada7864-1d23-4d49-a868-c6b8a93c738f","moved":false,"static":false,"w":6,"x":6,"y":13},{"h":6,"i":"f9a6f683-7455-4643-acc8-467cc5ea52cf","moved":false,"static":false,"w":6,"x":0,"y":19},{"h":6,"i":"e9341e70-ccb3-47fc-af95-56ba8942c4f2","moved":false,"static":false,"w":6,"x":6,"y":19},{"h":6,"i":"8638a199-20a0-4255-b0a2-3b1ba06c485b","moved":false,"static":false,"w":6,"x":0,"y":25},{"h":6,"i":"9552123d-6265-48a7-8624-3f4a3fc3c9c0","moved":false,"static":false,"w":6,"x":6,"y":25},{"h":3,"i":"d7838815-4f5b-4454-86fd-f658b201f3a9","moved":false,"static":false,"w":6,"x":0,"y":31}],"name":"","panelMap":{},"tags":["postgres","database"],"title":"Postgres overview","uploadedGrafana":false,"variables":{"db_ip":{"customValue":"","description":"DB_IP를 표시합니다.","id":"fbc061a6-7474-4187-9dff-80e72ae2d127","key":"fbc061a6-7474-4187-9dff-80e72ae2d127","modificationUUID":"c4061be2-077d-4321-ab6d-53466356c007","multiSelect":false,"name":"db_ip","order":3,"queryValue":"SELECT JSONExtractString(labels, 'db_ip') AS db_ip\r\nFROM om_metrics.distributed_time_series_v4_1day\r\nWHERE metric_name = 'postgresql_operations'\r\nGROUP BY db_ip","showALLOption":false,"sort":"DISABLED","textboxValue":"","type":"QUERY"},"db_name":{"customValue":"","description":"List of databases","id":"c66d1581-e5e1-440d-8ff6-ebcf078ab6dd","key":"c66d1581-e5e1-440d-8ff6-ebcf078ab6dd","modificationUUID":"9cff261f-78d4-4d39-8173-8db0c011656d","multiSelect":true,"name":"db_name","order":1,"queryValue":"SELECT JSONExtractString(labels, 'postgresql_database_name') AS db_name\nFROM om_metrics.distributed_time_series_v4_1day\nWHERE metric_name = 'postgresql_operations'\nGROUP BY db_name","showALLOption":true,"sort":"DISABLED","textboxValue":"","type":"QUERY"},"service_name":{"allSelected":false,"customValue":"","description":"List of hosts sending Postgres metrics","id":"4250ef7b-8f42-4a24-902a-a764d070b92d","key":"4250ef7b-8f42-4a24-902a-a764d070b92d","modificationUUID":"cc56ccf2-0d3a-4ed4-b501-8b5a4737d04d","multiSelect":true,"name":"service_name","order":0,"queryValue":"SELECT JSONExtractString(labels, 'service_name') AS host_name\nFROM om_metrics.distributed_time_series_v4_1day\nWHERE metric_name = 'postgresql_operations'\nGROUP BY host_name","showALLOption":true,"sort":"ASC","textboxValue":"","type":"QUERY"},"table_name":{"allSelected":true,"customValue":"","description":"List of tables","id":"8ecaee70-640f-46fd-83d9-a4fd18bc66e6","key":"8ecaee70-640f-46fd-83d9-a4fd18bc66e6","modificationUUID":"5f793198-cc89-4a7f-b177-b6ffdb196746","multiSelect":true,"name":"table_name","order":2,"queryValue":"SELECT JSONExtractString(labels, 'postgresql_table_name') AS table_name\nFROM om_metrics.distributed_time_series_v4_1day\nWHERE metric_name = 'postgresql_operations' AND JSONExtractString(labels, 'postgresql_database_name') IN {{.db_name}}\nGROUP BY table_name","showALLOption":true,"sort":"ASC","textboxValue":"","type":"QUERY"}},"widgets":[{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"description":"The average number of db insert operations.","fillSpans":false,"id":"191d09a6-40b0-4de8-a5b0-aa4254454b99","isStacked":false,"mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"graph","query":{"builder":{"queryData":[{"aggregateAttribute":{"dataType":"float64","id":"postgresql_operations--float64--Sum--true","isColumn":true,"isJSON":false,"key":"postgresql_operations","type":"Sum"},"aggregateOperator":"avg","dataSource":"metrics","disabled":false,"expression":"A","filters":{"items":[{"id":"09a74aaf","key":{"dataType":"string","id":"operation--string--tag--false","isColumn":false,"isJSON":false,"key":"operation","type":"tag"},"op":"=","value":"ins"},{"id":"27fd5567","key":{"dataType":"string","id":"service_name--string--tag--false","isColumn":false,"isJSON":false,"key":"service_name","type":"tag"},"op":"in","value":["{{.service_name}}"]}],"op":"AND"},"functions":[],"groupBy":[{"dataType":"string","id":"postgresql_database_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_database_name","type":"tag"}],"having":[],"legend":"{{postgresql_database_name}}","limit":null,"orderBy":[],"queryName":"A","reduceTo":"sum","spaceAggregation":"sum","stepInterval":60,"timeAggregation":"rate"}],"queryFormulas":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"415dee78-1214-4cbd-ba81-6f0e66fee417","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[],"selectedTracesFields":[],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Inserts","yAxisUnit":"none"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"description":"The average number of db update operations.","fillSpans":false,"id":"fa941c00-ce19-49cc-baf2-c38598767dee","isStacked":false,"mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"graph","query":{"builder":{"queryData":[{"aggregateAttribute":{"dataType":"float64","id":"postgresql_operations--float64--Sum--true","isColumn":true,"isJSON":false,"key":"postgresql_operations","type":"Sum"},"aggregateOperator":"avg","dataSource":"metrics","disabled":false,"expression":"A","filters":{"items":[{"id":"9837e104","key":{"dataType":"string","id":"operation--string--tag--false","isColumn":false,"isJSON":false,"key":"operation","type":"tag"},"op":"=","value":"upd"},{"id":"3b359331","key":{"dataType":"string","id":"service_name--string--tag--false","isColumn":false,"isJSON":false,"key":"service_name","type":"tag"},"op":"in","value":["{{.service_name}}"]}],"op":"AND"},"functions":[],"groupBy":[{"dataType":"string","id":"postgresql_database_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_database_name","type":"tag"}],"having":[],"legend":"{{postgresql_database_name}}","limit":null,"orderBy":[],"queryName":"A","reduceTo":"sum","spaceAggregation":"sum","stepInterval":60,"timeAggregation":"rate"}],"queryFormulas":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"ba538b31-3268-4e5e-990b-0e73a52de47f","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[],"selectedTracesFields":[],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Updates","yAxisUnit":"none"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"description":"The average number of db delete operations.","fillSpans":false,"id":"114fcf80-e1de-4716-b1aa-0e0738dba10e","isStacked":false,"mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"graph","query":{"builder":{"queryData":[{"aggregateAttribute":{"dataType":"float64","id":"postgresql_operations--float64--Sum--true","isColumn":true,"isJSON":false,"key":"postgresql_operations","type":"Sum"},"aggregateOperator":"avg","dataSource":"metrics","disabled":false,"expression":"A","filters":{"items":[{"id":"5eba41c3","key":{"dataType":"string","id":"operation--string--tag--false","isColumn":false,"isJSON":false,"key":"operation","type":"tag"},"op":"=","value":"del"},{"id":"1e5456ad","key":{"dataType":"string","id":"service_name--string--tag--false","isColumn":false,"isJSON":false,"key":"service_name","type":"tag"},"op":"in","value":["{{.service_name}}"]}],"op":"AND"},"functions":[],"groupBy":[{"dataType":"string","id":"postgresql_database_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_database_name","type":"tag"}],"having":[],"legend":"{{postgresql_database_name}}","limit":null,"orderBy":[],"queryName":"A","reduceTo":"sum","spaceAggregation":"sum","stepInterval":60,"timeAggregation":"rate"}],"queryFormulas":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"f60b1ae3-f513-4cc5-b973-1d935de0004c","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[],"selectedTracesFields":[],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Deleted","yAxisUnit":"none"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"description":"The average number of db heap-only update operations.","fillSpans":false,"id":"667428ef-9b9a-4e91-bd1e-938e0dc1ff32","isStacked":false,"mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"graph","query":{"builder":{"queryData":[{"aggregateAttribute":{"dataType":"float64","id":"postgresql_operations--float64--Sum--true","isColumn":true,"isJSON":false,"key":"postgresql_operations","type":"Sum"},"aggregateOperator":"avg","dataSource":"metrics","disabled":false,"expression":"A","filters":{"items":[{"id":"8c8801d7","key":{"dataType":"string","id":"operation--string--tag--false","isColumn":false,"isJSON":false,"key":"operation","type":"tag"},"op":"=","value":"hot_upd"},{"id":"fa6437f2","key":{"dataType":"string","id":"service_name--string--tag--false","isColumn":false,"isJSON":false,"key":"service_name","type":"tag"},"op":"in","value":["{{.service_name}}"]}],"op":"AND"},"functions":[],"groupBy":[{"dataType":"string","id":"postgresql_database_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_database_name","type":"tag"}],"having":[],"legend":"{{postgresql_database_name}}","limit":null,"orderBy":[],"queryName":"A","reduceTo":"sum","spaceAggregation":"sum","stepInterval":60,"timeAggregation":"rate"}],"queryFormulas":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"7fda117d-575d-4288-8aa1-53a0b61e06a7","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[],"selectedTracesFields":[],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Heap updates","yAxisUnit":"none"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"description":"","fillSpans":false,"id":"bada7864-1d23-4d49-a868-c6b8a93c738f","isStacked":false,"mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"table","query":{"builder":{"queryData":[{"aggregateAttribute":{"dataType":"float64","id":"postgresql_operations--float64--Sum--true","isColumn":true,"isJSON":false,"key":"postgresql_operations","type":"Sum"},"aggregateOperator":"avg","dataSource":"metrics","disabled":false,"expression":"A","filters":{"items":[{"id":"af9222dd","key":{"dataType":"string","id":"operation--string--tag--false","isColumn":false,"isJSON":false,"key":"operation","type":"tag"},"op":"=","value":"ins"},{"id":"0a7a5724","key":{"dataType":"string","id":"service_name--string--tag--false","isColumn":false,"isJSON":false,"key":"service_name","type":"tag"},"op":"in","value":["{{.service_name}}"]}],"op":"AND"},"functions":[],"groupBy":[{"dataType":"string","id":"postgresql_database_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_database_name","type":"tag"}],"having":[],"legend":"Inserted","limit":null,"orderBy":[],"queryName":"A","reduceTo":"sum","spaceAggregation":"sum","stepInterval":60,"timeAggregation":"rate"},{"aggregateAttribute":{"dataType":"float64","id":"postgresql_operations--float64--Sum--true","isColumn":true,"isJSON":false,"key":"postgresql_operations","type":"Sum"},"aggregateOperator":"avg","dataSource":"metrics","disabled":false,"expression":"B","filters":{"items":[{"id":"8e3b00f6","key":{"dataType":"string","id":"operation--string--tag--false","isColumn":false,"isJSON":false,"key":"operation","type":"tag"},"op":"=","value":"upd"},{"id":"d6166f59","key":{"dataType":"string","id":"service_name--string--tag--false","isColumn":false,"isJSON":false,"key":"service_name","type":"tag"},"op":"in","value":["{{.service_name}}"]}],"op":"AND"},"functions":[],"groupBy":[{"dataType":"string","id":"postgresql_database_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_database_name","type":"tag"}],"having":[],"legend":"Updated","limit":null,"orderBy":[],"queryName":"B","reduceTo":"sum","spaceAggregation":"sum","stepInterval":60,"timeAggregation":"rate"},{"aggregateAttribute":{"dataType":"float64","id":"postgresql_operations--float64--Sum--true","isColumn":true,"isJSON":false,"key":"postgresql_operations","type":"Sum"},"aggregateOperator":"avg","dataSource":"metrics","disabled":false,"expression":"C","filters":{"items":[{"id":"70a1355b","key":{"dataType":"string","id":"operation--string--tag--false","isColumn":false,"isJSON":false,"key":"operation","type":"tag"},"op":"=","value":"del"},{"id":"9f37ff0b","key":{"dataType":"string","id":"service_name--string--tag--false","isColumn":false,"isJSON":false,"key":"service_name","type":"tag"},"op":"in","value":["{{.service_name}}"]}],"op":"AND"},"functions":[],"groupBy":[{"dataType":"string","id":"postgresql_database_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_database_name","type":"tag"}],"having":[],"legend":"Deleted","limit":null,"orderBy":[],"queryName":"C","reduceTo":"sum","spaceAggregation":"sum","stepInterval":60,"timeAggregation":"rate"}],"queryFormulas":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"4d4c8d94-cedb-42ac-96eb-28b04017fabe","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[],"selectedTracesFields":[],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Operation by database","yAxisUnit":"none"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"description":"The number of database locks.","fillSpans":false,"id":"6b700035-e3c2-4c48-99fa-ebfd6202eed3","isStacked":false,"mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"graph","query":{"builder":{"queryData":[{"aggregateAttribute":{"dataType":"float64","id":"postgresql_database_locks--float64--Gauge--true","isColumn":true,"isJSON":false,"key":"postgresql_database_locks","type":"Gauge"},"aggregateOperator":"sum","dataSource":"metrics","disabled":false,"expression":"A","filters":{"items":[{"id":"732b381b","key":{"dataType":"string","id":"service_name--string--tag--false","isColumn":false,"isJSON":false,"key":"service_name","type":"tag"},"op":"in","value":["{{.service_name}}"]}],"op":"AND"},"functions":[],"groupBy":[{"dataType":"string","id":"mode--string--tag--false","isColumn":false,"isJSON":false,"key":"mode","type":"tag"}],"having":[],"legend":"{{mode}}","limit":null,"orderBy":[],"queryName":"A","reduceTo":"sum","spaceAggregation":"sum","stepInterval":60,"timeAggregation":"rate"}],"queryFormulas":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"ba7bdabf-f0a5-4ef1-8d64-2e0e3dd8900e","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[],"selectedTracesFields":[],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Locks by lock mode","yAxisUnit":"none"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"description":"","fillSpans":false,"id":"e9341e70-ccb3-47fc-af95-56ba8942c4f2","isStacked":false,"mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"graph","query":{"builder":{"queryData":[{"aggregateAttribute":{"dataType":"float64","id":"postgresql_deadlocks--float64--Sum--true","isColumn":true,"isJSON":false,"key":"postgresql_deadlocks","type":"Sum"},"aggregateOperator":"sum_rate","dataSource":"metrics","disabled":false,"expression":"A","filters":{"items":[],"op":"AND"},"functions":[],"groupBy":[{"dataType":"string","id":"postgresql_database_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_database_name","type":"tag"}],"having":[],"legend":"{{postgresql_database_name}}","limit":null,"orderBy":[],"queryName":"A","reduceTo":"sum","spaceAggregation":"sum","stepInterval":60,"timeAggregation":"rate"}],"queryFormulas":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"ede8a6b6-496a-4b2b-8db3-3f50d43b8ed1","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[],"selectedTracesFields":[],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Deadlocks count","yAxisUnit":"none"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"description":"","fillSpans":false,"id":"8638a199-20a0-4255-b0a2-3b1ba06c485b","isStacked":false,"mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"graph","query":{"builder":{"queryData":[{"aggregateAttribute":{"dataType":"float64","id":"postgresql_backends--float64--Sum--true","isColumn":true,"isJSON":false,"key":"postgresql_backends","type":"Sum"},"aggregateOperator":"avg","dataSource":"metrics","disabled":false,"expression":"A","filters":{"items":[{"id":"9cd951c8","key":{"dataType":"string","id":"postgresql_database_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_database_name","type":"tag"},"op":"in","value":["{{.db_name}}"]},{"id":"30d58d25","key":{"dataType":"string","id":"service_name--string--tag--false","isColumn":false,"isJSON":false,"key":"service_name","type":"tag"},"op":"in","value":["{{.service_name}}"]}],"op":"AND"},"functions":[],"groupBy":[{"dataType":"string","id":"postgresql_database_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_database_name","type":"tag"}],"having":[],"legend":"{{postgresql_database_name}}","limit":null,"orderBy":[],"queryName":"A","reduceTo":"sum","spaceAggregation":"sum","stepInterval":60,"timeAggregation":"rate"}],"queryFormulas":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"898e9491-308e-4d3e-84f5-9a6165153279","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[],"selectedTracesFields":[],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Connections per db","yAxisUnit":"none"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"description":"","fillSpans":false,"id":"f9a6f683-7455-4643-acc8-467cc5ea52cf","isStacked":false,"mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"graph","query":{"builder":{"queryData":[{"aggregateAttribute":{"dataType":"float64","id":"postgresql_rows--float64--Sum--true","isColumn":true,"isJSON":false,"key":"postgresql_rows","type":"Sum"},"aggregateOperator":"sum","dataSource":"metrics","disabled":false,"expression":"A","filters":{"items":[{"id":"f7cf77a7","key":{"dataType":"string","id":"state--string--tag--false","isColumn":false,"isJSON":false,"key":"state","type":"tag"},"op":"=","value":"dead"},{"id":"d13fc547","key":{"dataType":"string","id":"service_name--string--tag--false","isColumn":false,"isJSON":false,"key":"service_name","type":"tag"},"op":"in","value":["{{.service_name}}"]}],"op":"AND"},"functions":[],"groupBy":[],"having":[],"legend":"Dead rows","limit":null,"orderBy":[],"queryName":"A","reduceTo":"sum","spaceAggregation":"sum","stepInterval":60,"timeAggregation":"rate"}],"queryFormulas":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"4dfbb144-e4dd-4e8e-8ad3-801f7d5dc35a","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[],"selectedTracesFields":[],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Dead rows","yAxisUnit":"none"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"description":"","fillSpans":false,"id":"d7838815-4f5b-4454-86fd-f658b201f3a9","isStacked":false,"mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"graph","query":{"builder":{"queryData":[{"aggregateAttribute":{"dataType":"float64","id":"postgresql_index_scans--float64--Sum--true","isColumn":true,"isJSON":false,"key":"postgresql_index_scans","type":"Sum"},"aggregateOperator":"sum_rate","dataSource":"metrics","disabled":false,"expression":"A","filters":{"items":[{"id":"c80f164f","key":{"dataType":"string","id":"service_name--string--tag--false","isColumn":false,"isJSON":false,"key":"service_name","type":"tag"},"op":"in","value":["{{.service_name}}"]}],"op":"AND"},"functions":[],"groupBy":[{"dataType":"string","id":"postgresql_index_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_index_name","type":"tag"}],"having":[],"legend":"{{postgresql_index_name}}","limit":null,"orderBy":[],"queryName":"A","reduceTo":"sum","spaceAggregation":"sum","stepInterval":60,"timeAggregation":"rate"}],"queryFormulas":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"a6d6fc08-4ed5-4907-b999-7cb7f2933dd2","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[],"selectedTracesFields":[],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Index scans by index","yAxisUnit":"none"},{"bucketCount":30,"bucketWidth":0,"columnUnits":{},"description":"","fillSpans":false,"id":"9552123d-6265-48a7-8624-3f4a3fc3c9c0","isStacked":false,"mergeAllActiveQueries":false,"nullZeroValues":"zero","opacity":"1","panelTypes":"table","query":{"builder":{"queryData":[{"aggregateAttribute":{"dataType":"float64","id":"postgresql_rows--float64--Sum--true","isColumn":true,"isJSON":false,"key":"postgresql_rows","type":"Sum"},"aggregateOperator":"avg","dataSource":"metrics","disabled":false,"expression":"A","filters":{"items":[{"id":"33140865","key":{"dataType":"string","id":"state--string--tag--false","isColumn":false,"isJSON":false,"key":"state","type":"tag"},"op":"=","value":"dead"},{"id":"0d38eee0","key":{"dataType":"string","id":"postgresql_database_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_database_name","type":"tag"},"op":"in","value":["{{.db_name}}"]},{"id":"581a7ca6","key":{"dataType":"string","id":"postgresql_table_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_table_name","type":"tag"},"op":"in","value":["{{.table_name}}"]},{"id":"a60e746e","key":{"dataType":"string","id":"service_name--string--tag--false","isColumn":false,"isJSON":false,"key":"service_name","type":"tag"},"op":"in","value":["{{.service_name}}"]}],"op":"AND"},"functions":[],"groupBy":[{"dataType":"string","id":"postgresql_table_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_table_name","type":"tag"}],"having":[],"legend":"Dead rows","limit":null,"orderBy":[],"queryName":"A","reduceTo":"sum","spaceAggregation":"sum","stepInterval":60,"timeAggregation":"rate"},{"aggregateAttribute":{"dataType":"float64","id":"postgresql_rows--float64--Sum--true","isColumn":true,"isJSON":false,"key":"postgresql_rows","type":"Sum"},"aggregateOperator":"avg","dataSource":"metrics","disabled":false,"expression":"B","filters":{"items":[{"id":"c8bfecb7","key":{"dataType":"string","id":"state--string--tag--false","isColumn":false,"isJSON":false,"key":"state","type":"tag"},"op":"=","value":"live"},{"id":"dd5ee707","key":{"dataType":"string","id":"postgresql_database_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_database_name","type":"tag"},"op":"in","value":["{{.db_name}}"]},{"id":"cd3b4c82","key":{"dataType":"string","id":"postgresql_table_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_table_name","type":"tag"},"op":"in","value":["{{.table_name}}"]},{"id":"c9019706","key":{"dataType":"string","id":"service_name--string--tag--false","isColumn":false,"isJSON":false,"key":"service_name","type":"tag"},"op":"in","value":["{{.service_name}}"]}],"op":"AND"},"functions":[],"groupBy":[{"dataType":"string","id":"postgresql_table_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_table_name","type":"tag"}],"having":[],"legend":"Live rows","limit":null,"orderBy":[],"queryName":"B","reduceTo":"sum","spaceAggregation":"sum","stepInterval":60,"timeAggregation":"rate"},{"aggregateAttribute":{"dataType":"float64","id":"postgresql_index_scans--float64--Sum--true","isColumn":true,"isJSON":false,"key":"postgresql_index_scans","type":"Sum"},"aggregateOperator":"sum_rate","dataSource":"metrics","disabled":false,"expression":"C","filters":{"items":[{"id":"5b92acbc","key":{"dataType":"string","id":"postgresql_database_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_database_name","type":"tag"},"op":"in","value":["{{.db_name}}"]},{"id":"de47ea5b","key":{"dataType":"string","id":"postgresql_table_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_table_name","type":"tag"},"op":"in","value":["{{.table_name}}"]},{"id":"9ccd7eec","key":{"dataType":"string","id":"service_name--string--tag--false","isColumn":false,"isJSON":false,"key":"service_name","type":"tag"},"op":"in","value":["{{.service_name}}"]}],"op":"AND"},"functions":[],"groupBy":[{"dataType":"string","id":"postgresql_table_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_table_name","type":"tag"}],"having":[],"legend":"Index scans","limit":null,"orderBy":[],"queryName":"C","reduceTo":"sum","spaceAggregation":"sum","stepInterval":60,"timeAggregation":"rate"},{"aggregateAttribute":{"dataType":"float64","id":"postgresql_table_size--float64--Sum--true","isColumn":true,"isJSON":false,"key":"postgresql_table_size","type":"Sum"},"aggregateOperator":"avg","dataSource":"metrics","disabled":false,"expression":"D","filters":{"items":[{"id":"e6717f21","key":{"dataType":"string","id":"postgresql_database_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_database_name","type":"tag"},"op":"in","value":["{{.db_name}}"]},{"id":"e342ef38","key":{"dataType":"string","id":"postgresql_table_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_table_name","type":"tag"},"op":"in","value":["{{.table_name}}"]},{"id":"3991d2da","key":{"dataType":"string","id":"service_name--string--tag--false","isColumn":false,"isJSON":false,"key":"service_name","type":"tag"},"op":"in","value":["{{.service_name}}"]}],"op":"AND"},"functions":[],"groupBy":[{"dataType":"string","id":"postgresql_table_name--string--tag--false","isColumn":false,"isJSON":false,"key":"postgresql_table_name","type":"tag"}],"having":[],"legend":"Table size","limit":null,"orderBy":[],"queryName":"D","reduceTo":"sum","spaceAggregation":"sum","stepInterval":60,"timeAggregation":"rate"}],"queryFormulas":[]},"clickhouse_sql":[{"disabled":false,"legend":"","name":"A","query":""}],"id":"ae7349cd-d30a-4de6-81b9-322182ec9686","promql":[{"disabled":false,"legend":"","name":"A","query":""}],"queryType":"builder"},"selectedLogFields":[],"selectedTracesFields":[],"softMax":0,"softMin":0,"stackedBarChart":false,"thresholds":[],"timePreferance":"GLOBAL_TIME","title":"Table stats","yAxisUnit":"none"}]}